## C/C++ 中在头文件包含函数的实现，会导致什么问题？

当在头文件中包含函数的实现，该头文件被多个源文件包含，会导致链接冲突。因为实际上编译的时候只编译cpp这样的源代码文件，头文件只是被复制粘贴到#include的位置，就相当于函数被实现了多次

如：

```c
// a.h
int add(int a, int b)
{
    return a + b;
}
```
在 a.c 和 b.c 中都包含 a.h 头文件，在两个源文件编译得到的目标文件中都有一份 add 的函数实现，导致链接器不知道调用者使用哪一个副本。

解决方法：

1. 使用 inline

如果使用 inline ，则意味着编译器会在调用此函数的地方把函数的目标代码直接插入，并不是真正函数调用。

2. 使用 static

所有包含此头文件的源文件中都会存在此函数的一份副本。虽然代码也有一定程度的膨胀，但互相不冲突，因为 static 关键字保证了该函数的可见度为单个源文件之内。

C++ 类中的 static 函数和全局 static 函数的行为是有差异的，它编译之后仅产生一份实现代码，并不会由于被多个源文件包含而产生多份副本 。

3. 使用 C++ namespace

限制作用域
