## 浏览器对于文件类型的支持
很多浏览器对不同的文件类型有着不同的处理方式,html按网页处理,遇到pdf文件会打开浏览器自带的pdf阅读器,遇到视频打开播放器,其余文件调用下载窗口

但是响应体是纯粹的数据,不包含文件类型,让浏览器根据文件头去自行判断文件类型太麻烦,而且有些数据根本没有文件头,例如JSON,所以干脆把文件类型写在响应头里面,而邮件附件类型已经有一套标准MIME了,拿来就用
```
Content-Type: text/html;charset=utf-8
```

## 登录问题
由于HTTP是无状态的,对于有权限管理的网站,进行一次操作就得登录一次,过于蛋疼

于是登录之后网站就生成一个随机串放在响应头里,告诉浏览器下次访问时在请求头里带上这个串,服务器就可以知道还是这个用户在访问,不必重复登录

响应
```
Set-Cookie: BAIDUID=737410C68ABBBF13F087DB78A1C64E49;cookie2=...;cookie3=...
```

请求
```
Cookie: BAIDUID=737410C68ABBBF13F087DB78A1C64E49;cookie2=...;cookie3=...
```

Cookie里还可以存很多别的状态信息,随便放,但是cookie空间有限,每个cookie不得超过4kb,而且每个站只能有20个cookie

## 安全问题

http采用明文传输,数据不加密,登录的时候把HTTP报文拦截下来,密码看得清清楚楚,显然是不行的

而由客户端加密发给服务端,则需要客户端和服务端协商密码,而这个密码又会被黑客截留,进入了死循环

于是诞生了公钥加密体制,加密和解密用两把不同的秘钥,称为公钥和私钥,公钥向外公布,私钥秘密保管,这样用户可以用公钥加密自己决定的密码发给服务器,然后只有服务器可以解开,也就实现了协商密码

## 断点续传(下载暂停功能)

现在文件都很大,一口气下完不暂停其实不现实,所以需要在请求头中指明需要文件的哪一段,这样一段一段的下载再合并,就做到了中途暂停的效果

请求
```
Range: bytes=起始字节(不填默认为0)-结束字节(不填默认为文件长)
```

响应
```
Content-Range: 起始字节-结束字节/文件长
```